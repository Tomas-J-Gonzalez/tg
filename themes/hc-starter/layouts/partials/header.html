<header class="region" role="banner" aria-label="Site header">
  <div hidden>
    <p class="p-note">{{ .Site.Params.strapline }}</p>
    <a href="mailto:{{ .Site.Params.author.email }}" rel="me" class="u-email">{{ .Site.Params.author.email }}</a>
    <span class="p-name u-url visually-hidden" rel="me">{{ .Site.Title }}</span>
  </div>
  <nav id="site-navigation" data-variant="main" aria-label="Main navigation" role="navigation">
    <ul class="cluster" role="menubar">
    {{ $currentPage := . }}
    {{ range .Site.Menus.main }}
      {{ $isExternal := or (hasPrefix .URL "http://") (hasPrefix .URL "https://") }}
      <li role="none">
        <a data-variant="naked" {{ if eq $currentPage.RelPermalink .URL }}data-state="active" aria-current="page"{{ end }} href="{{ .URL }}" {{ if $isExternal }}target="_blank" rel="noopener noreferrer"{{ end }} role="menuitem">{{ .Name }}</a>
      </li>
    {{ end }}
    </ul>
    <button id="theme-toggle" class="btn btn-circle btn-ghost" type="button" role="switch" aria-pressed="true" aria-label="Toggle dark mode">
      <i id="theme-icon" class="theme-icon heroicons-moon" aria-hidden="true"></i>
      <span id="theme-label" class="theme-label sr-only">Dark mode</span>
    </button>
  </nav>
</header>